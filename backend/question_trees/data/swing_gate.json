{
    "job_type": "swing_gate",
    "version": "1.0",
    "display_name": "Swing Gate",
    "category": "gate",
    "required_fields": [
        "clear_width", "height", "panel_config", "frame_material",
        "frame_gauge", "infill_type", "hinge_type", "finish", "installation"
    ],
    "questions": [
        {
            "id": "clear_width",
            "text": "What is the clear opening width? (the total space the gate needs to cover)",
            "type": "measurement",
            "unit": "feet",
            "required": true,
            "hint": "Measure from post to post. Single panels are typically up to 6 ft. Wider openings usually get double panels.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "height",
            "text": "What height do you need?",
            "type": "measurement",
            "unit": "feet",
            "required": true,
            "hint": "Residential typical: 4-6 ft. Commercial/security: 6-8 ft. Measured from ground to top of frame.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "panel_config",
            "text": "Single panel or double panel?",
            "type": "choice",
            "options": ["Single panel (one leaf)", "Double panel (two leaves, meet in center)", "Double panel — unequal (one large, one small)"],
            "required": true,
            "hint": "Single panels work up to about 6 ft wide. Wider openings need double panels to reduce sag and hinge stress.",
            "depends_on": null,
            "branches": {
                "Double panel (two leaves, meet in center)": ["center_stop"],
                "Double panel — unequal (one large, one small)": ["center_stop"]
            }
        },
        {
            "id": "center_stop",
            "text": "Center stop/drop rod for double gate?",
            "type": "choice",
            "options": ["Cane bolt (drop rod into ground sleeve)", "Surface-mount drop rod", "Automatic flush bolt", "None — both panels free-swing"],
            "required": false,
            "hint": "A cane bolt holds one panel fixed while the other is the active swing. Standard for double gates.",
            "depends_on": "panel_config",
            "branches": null
        },
        {
            "id": "frame_material",
            "text": "What material for the gate frame?",
            "type": "choice",
            "options": ["Square tube (most common)", "Round tube", "Rectangular tube", "Angle iron", "Wrought iron (solid bar)"],
            "required": true,
            "hint": "2\" square tube 11ga is standard for most swing gates.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "frame_gauge",
            "text": "What gauge/thickness?",
            "type": "choice",
            "options": ["11 gauge (0.120\" - standard)", "14 gauge (0.075\" - light duty)", "7 gauge (0.187\" - heavy duty)", "3/16\" wall", "1/4\" wall"],
            "required": true,
            "hint": "11 gauge handles most swing gates. Go heavier for gates over 5 ft wide or tall.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "frame_size",
            "text": "What size tubing for the frame?",
            "type": "choice",
            "options": ["1-1/2\" x 1-1/2\"", "2\" x 2\"", "2\" x 3\"", "2\" x 4\""],
            "required": false,
            "hint": "2\"x2\" is standard for most residential swing gates.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "infill_type",
            "text": "What type of infill/panel design?",
            "type": "choice",
            "options": ["Pickets (vertical bars)", "Flat bar vertical", "Expanded metal", "Solid sheet panel", "Horizontal bars", "Open frame (no infill)", "Custom design"],
            "required": true,
            "hint": null,
            "depends_on": null,
            "branches": {
                "Pickets (vertical bars)": ["picket_style", "picket_spacing"],
                "Flat bar vertical": ["flat_bar_spacing"],
                "Custom design": ["design_reference"]
            }
        },
        {
            "id": "picket_style",
            "text": "What picket style?",
            "type": "choice",
            "options": ["Plain square bar", "Plain round bar", "Spear-top square", "Spear-top round", "Twist pickets", "Basket pickets"],
            "required": false,
            "hint": "3/4\" square bar or 5/8\" round bar are standard.",
            "depends_on": "infill_type",
            "branches": null
        },
        {
            "id": "picket_spacing",
            "text": "Spacing between pickets?",
            "type": "choice",
            "options": ["4\" on-center (code compliant)", "3.5\" on-center", "6\" on-center", "Custom spacing"],
            "required": false,
            "hint": "4\" max clear space is required by most codes to prevent child entrapment.",
            "depends_on": "infill_type",
            "branches": null
        },
        {
            "id": "flat_bar_spacing",
            "text": "Spacing between flat bars?",
            "type": "choice",
            "options": ["4\" on-center", "3\" on-center", "6\" on-center", "Custom"],
            "required": false,
            "hint": null,
            "depends_on": "infill_type",
            "branches": null
        },
        {
            "id": "design_reference",
            "text": "Do you have a photo or sketch of the design?",
            "type": "photo",
            "required": false,
            "hint": "Upload a reference photo or describe the design.",
            "depends_on": "infill_type",
            "branches": null
        },
        {
            "id": "post_count",
            "text": "How many posts?",
            "type": "choice",
            "options": ["2 posts (single panel)", "3 posts (double panel, center post)", "Posts already exist — just build the gate"],
            "required": false,
            "hint": "Single panel = 2 posts (hinge side + latch side). Double panel = usually 2 end posts, sometimes a center post.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "post_size",
            "text": "What size posts?",
            "type": "choice",
            "options": ["4\" x 4\" square tube", "6\" x 6\" square tube", "4\" round pipe Sch 40", "Match existing posts"],
            "required": false,
            "hint": "4\"x4\" minimum for swing gates. Heavier gates need 6\"x6\".",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "hinge_type",
            "text": "What type of hinges?",
            "type": "choice",
            "options": ["Heavy duty weld-on barrel hinges", "Bolt-on adjustable hinges", "Ball-bearing hinges", "J-bolt hinges (wrap-around)", "Not sure — recommend based on gate weight"],
            "required": true,
            "hint": "Weld-on barrel hinges are strongest. Ball-bearing for smooth operation on heavy gates. Bolt-on for easier field adjustment.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "hinge_count",
            "text": "How many hinges per panel?",
            "type": "choice",
            "options": ["2 hinges (standard for gates under 5 ft)", "3 hinges (gates 5-7 ft or heavy)", "4 hinges (tall/heavy gates)"],
            "required": false,
            "hint": "Rule of thumb: 1 hinge per 2 ft of gate height, minimum 2. More hinges = less sag over time.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "latch_type",
            "text": "What type of latch?",
            "type": "choice",
            "options": ["Gravity latch (auto-closing)", "Magnetic latch", "Keyed deadbolt", "Pool code latch (self-closing, self-latching)", "Electric strike (with motor)", "Chain and padlock", "None"],
            "required": false,
            "hint": "Pool code requires self-closing hinges + self-latching mechanism. Electric strike pairs with gate operators.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "auto_close",
            "text": "Does the gate need to self-close?",
            "type": "choice",
            "options": ["Yes — spring hinges", "Yes — hydraulic closer", "No — stays where you leave it"],
            "required": false,
            "hint": "Required by pool code and some commercial applications. Spring hinges are cheaper, hydraulic closers are smoother.",
            "depends_on": null,
            "branches": null
        },
        {
            "id": "has_motor",
            "text": "Will this gate have an electric operator (motor)?",
            "type": "choice",
            "options": ["Yes", "No — manual operation", "Not sure — show me options"],
            "required": false,
            "hint": null,
            "depends_on": null,
            "branches": {
                "Yes": ["motor_brand", "motor_arm_type"],
                "Not sure — show me options": ["motor_brand", "motor_arm_type"]
            }
        },
        {
            "id": "motor_brand",
            "text": "Which swing gate operator?",
            "type": "choice",
            "options": ["LiftMaster RSW12U (residential)", "LiftMaster CSW24U (commercial)", "US Automatic Patriot", "Viking", "DoorKing", "Other / not sure"],
            "required": false,
            "hint": "LiftMaster RSW series is the go-to for residential swing gates.",
            "depends_on": "has_motor",
            "branches": null
        },
        {
            "id": "motor_arm_type",
            "text": "What type of operator arm?",
            "type": "choice",
            "options": ["Linear arm (most common, surface mount)", "Articulated arm (for tight spaces)", "Underground operator (hidden, premium)", "Not sure — recommend based on setup"],
            "required": false,
            "hint": "Linear arms need space behind the gate. Underground operators are invisible but cost 3-5x more.",
            "depends_on": "has_motor",
            "branches": null
        },
        {
            "id": "finish",
            "text": "What finish?",
            "type": "choice",
            "options": ["Powder coat (most durable, outsourced)", "Paint (in-house)", "Clear coat (shows steel grain)", "Galvanized (hot-dip)", "Raw steel (no finish)"],
            "required": true,
            "hint": "Powder coat is the standard for exterior gates. Clear coat for indoor/covered applications.",
            "depends_on": null,
            "branches": {
                "Powder coat (most durable, outsourced)": ["powder_coat_color"],
                "Paint (in-house)": ["paint_color"]
            }
        },
        {
            "id": "powder_coat_color",
            "text": "What powder coat color?",
            "type": "choice",
            "options": ["Black (most common)", "Bronze", "White", "Dark green", "Custom RAL color"],
            "required": false,
            "hint": null,
            "depends_on": "finish",
            "branches": null
        },
        {
            "id": "paint_color",
            "text": "What paint color?",
            "type": "text",
            "required": false,
            "hint": "Describe the color or provide a paint code.",
            "depends_on": "finish",
            "branches": null
        },
        {
            "id": "installation",
            "text": "Do you need installation?",
            "type": "choice",
            "options": ["Full installation (gate + posts + concrete)", "Gate install only (posts already set)", "Shop pickup (no installation)", "Delivery only"],
            "required": true,
            "hint": null,
            "depends_on": null,
            "branches": {
                "Full installation (gate + posts + concrete)": ["site_location", "site_access"],
                "Gate install only (posts already set)": ["site_location"]
            }
        },
        {
            "id": "site_location",
            "text": "Where is the job site?",
            "type": "text",
            "required": false,
            "hint": "City or zip code — we need this for travel time calculation.",
            "depends_on": "installation",
            "branches": null
        },
        {
            "id": "site_access",
            "text": "Any site access constraints?",
            "type": "multi_choice",
            "options": ["Tight/narrow access", "Unpaved terrain", "HOA approval required", "Permit required", "Underground utilities", "No constraints"],
            "required": false,
            "hint": null,
            "depends_on": "installation",
            "branches": null
        },
        {
            "id": "decorative_elements",
            "text": "Any decorative elements or custom design details?",
            "type": "multi_choice",
            "options": ["Scrollwork", "Spear tops", "Monogram or lettering", "Arch top", "Ring/circle design", "Custom pattern", "None"],
            "required": false,
            "hint": null,
            "depends_on": null,
            "branches": null
        }
    ]
}
